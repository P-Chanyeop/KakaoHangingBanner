<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네이버 지도 테스트</title>
    <style>
        #map {
            width: 100%;
            height: 600px;
        }
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .info {
            padding: 10px;
            background: #f0f0f0;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 4px solid #c62828;
        }
    </style>
</head>
<body>
    <h1>네이버 지도 API 테스트</h1>
    <div class="info">
        <strong>Client ID:</strong> k5oupq96xi<br>
        <strong>현재 URL:</strong> <span id="currentUrl"></span>
    </div>
    <div id="errorMsg"></div>
    <div id="map"></div>

    <!-- 네이버 지도 API -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=k5oupq96xi"></script>

    <script>
        // 현재 URL 표시
        document.getElementById('currentUrl').textContent = window.location.href;

        // 네이버 지도 초기화
        try {
            if (typeof naver === 'undefined') {
                throw new Error('네이버 지도 API가 로드되지 않았습니다.');
            }

            console.log('네이버 지도 API 로드 성공');
            console.log('naver.maps 버전:', naver.maps.version);

            var mapOptions = {
                center: new naver.maps.LatLng(37.3595704, 127.105399),
                zoom: 10
            };

            var map = new naver.maps.Map('map', mapOptions);
            console.log('지도 초기화 성공!');

        } catch (error) {
            console.error('지도 초기화 오류:', error);
            document.getElementById('errorMsg').innerHTML =
                '<div class="error"><strong>오류:</strong> ' + error.message +
                '<br><br>네이버 클라우드 플랫폼 콘솔에서 다음을 확인하세요:' +
                '<ol>' +
                '<li>Dynamic Map API가 활성화되어 있는지</li>' +
                '<li>Web 서비스 URL에 <code>' + window.location.origin + '</code> 가 추가되어 있는지</li>' +
                '<li>설정 저장 후 2-3분 대기했는지</li>' +
                '</ol></div>';
        }
    </script>
</body>
</html>
